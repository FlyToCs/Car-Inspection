@page
@model Index3Model
@{
    Layout = "Layouts/_FrontLayout";
    ViewData["Title"] = "صفحات اصلی";
}

@section VendorStyles {
    <link rel="stylesheet" href="~/vendor/libs/nouislider/nouislider.dist.css" />
    <link rel="stylesheet" href="~/vendor/libs/swiper/swiper.dist.css" />
    <link rel="stylesheet" href="~/vendor/libs/bs-stepper/bs-stepper.dist.css" />
    <link rel="stylesheet" href="~/vendor/libs/bootstrap-select/bootstrap-select.dist.css" />
    <link rel="stylesheet" href="~/vendor/libs/select2/select2.dist.css" />
}
@section PageStyles {
    <link rel="stylesheet" href="~/vendor/css/pages/front-page-landing.dist.css" />
}
@section VendorScripts {
    <script src="~/vendor/libs/nouislider/nouislider.dist.js"></script>
    <script src="~/vendor/libs/swiper/swiper.dist.js"></script>
    <script src="~/vendor/libs/bs-stepper/bs-stepper.dist.js"></script>
    <script src="~/vendor/libs/bootstrap-select/bootstrap-select.dist.js"></script>
    <script src="~/vendor/libs/bootstrap-select/i18n/defaults-fa_IR.dist.js"></script>
    <script src="~/vendor/libs/select2/select2.dist.js"></script>
    <script src="~/vendor/libs/select2/i18n/fa.dist.js"></script>
}
@section PageScripts {
    @* <script src="~/js/front-page-landing.dist.js"></script> *@
    @* فایل form-wizard-icons.dist.js دیگر لازم نیست چون ویزارد حذف شده، اما برای جلوگیری از خطا آن را حذف نمی‌کنیم. *@
    @* <script src="~/js/form-wizard-icons.dist.js"></script> *@
}


@* ************** Content ************** *@
<div data-bs-spy="scroll" class="scrollspy-example">
    <section id="hero-animation">
        <div id="landingHero" class="section-py landing-hero position-relative">
            <div class="container">
                <div class="hero-text-box text-center">
                    <h1 class="text-primary hero-title display-6 fw-bold ">
                        ثبت نوبت معاینه فنی خودرو
                    </h1>
                    <h2 class="hero-sub-title h6 mb-4 mt-2 pb-1 lh-2">
                        با بهترین خدمات و کیفیت
                        <br class="d-none d-lg-block" />
                        همراه با گارانتی ، پشتیبانی و شخصی سازی آسان
                    </h2>
                    <div class="landing-hero-btn d-inline-block position-relative">
                        <span class="hero-btn-item position-absolute d-none d-md-flex text-heading">
                            فرصت استثناییءء
                            <img alt="پیکان انجمن" class="scaleX-n1-rtl" src="~/img/front-pages/icons/Join-community-arrow.png" />
                        </span>
                        <a class="btn btn-primary btn-lg" href="#landingPricing">خـرید از پشمکی</a>
                    </div>
                </div>
            </div>
        </div>


        @* فرم ثبت نوبت یک صفحه‌ای: شروع *@
        <div class="container py-5">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow-lg">
                        <div class="card-header bg-primary text-white text-center">
                            <h4 class="mb-0">فرم یکپارچه ثبت نوبت معاینه فنی</h4>
                            <p class="mb-0">لطفا مشخصات خود و خودرو را جهت رزرو نوبت وارد نمایید.</p>
                        </div>
                        <div class="card-body">

                            @* استفاده از هندلر OnPost در فرم اصلی *@
                            <form method="post">

                                <h5 class="mt-3 mb-3 border-bottom pb-2 text-primary">اطلاعات صاحب خودرو</h5>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="OwnerFirstName">نام کوچک <span class="text-danger">*</span></label>
                                        <input class="form-control" id="OwnerFirstName" name="Appointment.OwnerFirstName" value="@Model.Appointment?.OwnerFirstName" placeholder="امیر" type="text" />
                                        <span asp-validation-for="Appointment.OwnerFirstName" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="OwnerLastName">نام خانوادگی <span class="text-danger">*</span></label>
                                        <input class="form-control" id="OwnerLastName" name="Appointment.OwnerLastName" value="@Model.Appointment?.OwnerLastName" placeholder="مقصودلو" type="text" />
                                        <span asp-validation-for="Appointment.OwnerLastName" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="OwnerMobile">شماره موبایل <span class="text-danger">*</span></label>
                                        <input class="form-control" id="OwnerMobile" name="Appointment.OwnerMobile" value="@Model.Appointment?.OwnerMobile" placeholder="09121234567" type="tel" />
                                        <span asp-validation-for="Appointment.OwnerMobile" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="OwnerNationalId">کد ملی <span class="text-danger">*</span></label>
                                        <input class="form-control" id="OwnerNationalId" name="Appointment.OwnerNationalId" value="@Model.Appointment?.OwnerNationalId" placeholder="1234567890" type="text" />
                                        <span asp-validation-for="Appointment.OwnerNationalId" class="text-danger"></span>
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" for="OwnerAddress">آدرس کامل</label>
                                        <textarea class="form-control" id="OwnerAddress" name="Appointment.OwnerAddress" placeholder="تهران، خیابان ولیعصر..." rows="2">@Model.Appointment?.OwnerAddress</textarea>
                                        <span asp-validation-for="Appointment.OwnerAddress" class="text-danger"></span>
                                    </div>
                                </div>

                                <h5 class="mt-4 mb-3 border-bottom pb-2 text-primary">اطلاعات نوبت و خودرو</h5>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="AppointmentDate">تاریخ نوبت <span class="text-danger">*</span></label>
                                        @* فیلد تاریخ: باید به درستی مقداردهی شود تا با DateOnly مدل کار کند *@
                                        @{
                                            string dateValue = Model.Appointment != null ? Model.Appointment.AppointmentDate.ToString("yyyy-MM-dd") : DateOnly.FromDateTime(DateTime.Now).ToString("yyyy-MM-dd");
                                        }
                                        <input class="form-control" id="AppointmentDate" name="Appointment.AppointmentDate" type="date" value="@dateValue" />
                                        <span asp-validation-for="Appointment.AppointmentDate" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="LicensePlate">پلاک خودرو <span class="text-danger">*</span></label>
                                        <input class="form-control" id="LicensePlate" name="Appointment.LicensePlate" value="@Model.Appointment?.LicensePlate" placeholder="12ب345ایران67" type="text" />
                                        <span asp-validation-for="Appointment.LicensePlate" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="CarModelId">مدل خودرو <span class="text-danger">*</span></label>
                                        <select class="select2 form-select" id="CarModelId" name="Appointment.CarModelId">
                                            <option value="">انتخاب کنید...</option>
                                            @* استفاده از Select Tag Helper برای نمایش صحیح مقادیر مدل *@
                                            <option value="1" selected="@(Model.Appointment?.CarModelId == 1)">پژو 206</option>
                                            <option value="2" selected="@(Model.Appointment?.CarModelId == 2)">پراید</option>
                                            <option value="3" selected="@(Model.Appointment?.CarModelId == 3)">سمند</option>
                                            <option value="4" selected="@(Model.Appointment?.CarModelId == 4)">دنا</option>
                                            @* فرض می‌کنیم که لیست مدل‌های خودرو به صورت پویا در این بخش پر می‌شود *@
                                        </select>
                                        <span asp-validation-for="Appointment.CarModelId" class="text-danger"></span>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="ProductionYear">سال ساخت</label>
                                        <input class="form-control" id="ProductionYear" name="Appointment.ProductionYear" value="@Model.Appointment?.ProductionYear" placeholder="1395" type="number" min="1350" max="@DateTime.Now.Year.ToString()" />
                                        <span asp-validation-for="Appointment.ProductionYear" class="text-danger"></span>
                                    </div>

                                    @* فیلد اختیاری UserId اگر نیاز به نمایش یا ارسال بود:
                                    <input type="hidden" name="Appointment.UserId" value="@Model.Appointment?.UserId" />
                                    *@
                                </div>

                                <div class="col-12 text-center mt-5">
                                    <button class="btn btn-primary btn-lg waves-effect waves-light" type="submit">
                                        <i class="ti ti-check me-sm-1"></i>
                                        <span class="align-middle d-sm-inline-block d-none">ثبت نوبت معاینه فنی</span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* فرم ثبت نوبت یک صفحه‌ای: پایان *@


    </section>


    @* بخش تماس با ما ثابت می‌ماند *@
    <section id="landingContact" class="section-py bg-body landing-contact">
        <div class="container">
            <div class="text-center mb-3 pb-1">
                <span class="badge bg-label-primary">ارتباط با ما</span>
            </div>
            <h3 class="text-center mb-3 fw-medium">
                <span class="position-relative fw-bold z-1 section-title">
                    ارتباط مستقیم با تیم ما
                </span>

            </h3>
            <p class="text-center mb-4 mb-lg-5 pb-md-3">هر سوال یا نکته ای؟ فقط برای ما این پایین بنویس</p>
            <div class="row gy-4">
                <div class="col-lg-5">
                    <div class="contact-img-box position-relative border p-2 h-100">
                        <img src="~/img/front-pages/icons/contact-border.png" alt="contact border" class="contact-border-img position-absolute d-none d-md-block scaleX-n1-rtl" />
                        <img src="~/img/front-pages/landing-page/contact-customer-service.png" alt="contact customer service" class="contact-img w-100 scaleX-n1-rtl" />
                        <div class="pt-3 px-4 pb-1">
                            <div class="row gy-3 gx-md-4">
                                <div class="col-md-6 col-lg-12 col-xl-6">
                                    <div class="d-flex align-items-center">
                                        <div class="badge bg-label-primary rounded p-2 me-2"><i class="ti ti-mail ti-sm"></i></div>
                                        <div>
                                            <p class="mb-1">ایمیل</p>
                                            <h5 class="mb-0">
                                                <a href="mailto:example@gmail.com" class="text-heading">example@gmail.com</a>
                                            </h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-lg-12 col-xl-6">
                                    <div class="d-flex align-items-center">
                                        <div class="badge bg-label-success rounded p-2 me-2">
                                            <i class="ti ti-phone-call ti-sm"></i>
                                        </div>
                                        <div>
                                            <p class="mb-1">تلفن</p>
                                            <h5 class="mb-0"><a href="tel:+1234-568-963" class="text-heading">+1234 568 963</a></h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="mb-2">ارتباط با ما</h4>
                            <p class="mb-4">
                                اگر صحبتی با ما دارید لطفا در باکس زیر بنویسید مثل انتقادات و پیشنهادات ، همکاری،
                                <br class="d-none d-lg-block" />
                                شراکت، و ... ما در خدمت شما هستیم.
                            </p>
                            <form>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="contact-form-fullname">نام و نام خانوادگی</label>
                                        <input class="form-control" id="contact-form-fullname" placeholder="امیر" type="text" />
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="contact-form-email">ایمیل</label>
                                        <input class="form-control" id="contact-form-email" placeholder="johndoe@gmail.com" type="text" />
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" for="contact-form-message">پیام</label>
                                        <textarea class="form-control" id="contact-form-message" placeholder="پیام خود را بنویسید" rows="8"></textarea>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary" type="submit">ارسال پیام</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>


@await Html.PartialAsync("Layouts/Sections/_Scripts" + ViewData["frontVar"])

<script src='~/js/@ViewData["main"]main.dist.js'></script>